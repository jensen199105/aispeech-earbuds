#include <stdio.h>
#include "AISP_TSL_base.h"
#include "AISP_TSL_str.h"
#include "AISP_TSL_complex.h"

#include "sevc_config.h"
#include "sevc_types.h"
#include "sevc_util.h"

#include "sevc_eq.h"
#if SEVC_SWITCH_EQ

//W32Q20
aisp_s32_t g_sevcEqGains[] =
{
    1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576,
    1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576,
    1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576,
    1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576, 1048576,
    1050862, 1057530, 1068295, 1082872, 1100974, 1122316, 1146614, 1173581,
    1202933, 1234384, 1267648, 1302440, 1338475, 1375468, 1413132, 1451183,
    1489335, 1527303, 1564801, 1601544, 1637247, 1671623, 1704389, 1735258,
    1763945, 1790165, 1813631, 1834060, 1851165, 1864661, 1875978, 1886754,
    1897018, 1906799, 1916125, 1925024, 1933526, 1941657, 1949448, 1956926,
    1964120, 1971058, 1977769, 1984282, 1990624, 1996824, 2002911, 2008914,
    2014860, 2020778, 2026696, 2032644, 2038650, 2044741, 2050947, 2057297,
    2063817, 2070538, 2077487, 2084693, 2092184, 2100090, 2108487, 2117327,
    2126562, 2136142, 2146019, 2156144, 2166469, 2176944, 2187521, 2198152,
    2208787, 2219379, 2229877, 2240234, 2250401, 2260329, 2269970, 2279274,
    2288193, 2296679, 2304682, 2312154, 2319046, 2325310, 2330897, 2335758,
    2339844, 2343107, 2345498, 2346968, 2347469, 2347469, 2347469, 2347469,
    2347469, 2347469, 2347469, 2347469, 2347469, 2347469, 2347469, 2347469,
    2347469, 2347469, 2347469, 2347469, 2347469, 2347469, 2347469, 2347469,
    2347469, 2347469, 2347469, 2347469, 2347469, 2347469, 2347469, 2347469,
    2347469, 2347469, 2347469, 2347077, 2345920, 2344027, 2341429, 2338155,
    2334234, 2329697, 2324572, 2318890, 2312679, 2305971, 2298793, 2291176,
    2283149, 2274743, 2265986, 2256908, 2247539, 2237908, 2228045, 2217980,
    2207742, 2197361, 2186866, 2176287, 2165654, 2154996, 2144342, 2133724,
    2123169, 2112707, 2102369, 2092184, 2081827, 2070970, 2059638, 2047854,
    2035642, 2023027, 2010032, 1996682, 1983001, 1969013, 1954742, 1940212,
    1925447, 1910472, 1895310, 1879985, 1864523, 1848946, 1833278, 1817545,
    1801770, 1785977, 1770190, 1754433, 1738731, 1723108, 1707587, 1692193,
    1676949, 1661881, 1646889, 1631861, 1616795, 1601691, 1586550, 1571371,
    1556154, 1540899, 1525607, 1510276, 1494907, 1479499, 1464053, 1448568,
    1433045, 1417483, 1401882, 1386241, 1370562, 1354843, 1339085, 1323288,
    1307451, 1291574, 1275657, 1259700, 1243703, 1227666, 1211589, 1195472,
    1179313, 1163115, 1146875, 1130595, 1114273, 1097911, 1081507, 1065062,
    1048576,
};

U32 SEVC_EQ_ShMemSizeGet(SEVC_CONFIG_S *pstSevcCfg)
{
    U32 uiTotalMemSize = 0;
    return uiTotalMemSize;
}

U32 SEVC_EQ_LocMemSizeGet(SEVC_CONFIG_S *pstSevcCfg)
{
    U32 uiTotalMemSize = 0;
    U32 uiSize;
    //pstEqEng
    uiSize = sizeof(SEVC_EQ_S);
    uiTotalMemSize += SIZE_ALIGN(uiSize);
    return uiTotalMemSize;
}

SEVC_EQ_S *SEVC_EQ_New(SEVC_CONFIG_S *pstSevcCfg, MEM_LOCATOR_S *pstMemLocator)
{
    SEVC_EQ_S *pstEqEng = NULL;
    U16 usSize;
    MEM_LOCATOR_SHOW(pstMemLocator);
    usSize = sizeof(SEVC_EQ_S);
    pstEqEng = (SEVC_EQ_S *)memLocatorGet(pstMemLocator, usSize, AISP_ALIGN_ON);
    AISP_TSL_PTR_CHECK(pstEqEng, FAIL);
    pstEqEng->pstSevcCfg = pstSevcCfg;
    pstEqEng->pfEqGain = g_sevcEqGains;
    return pstEqEng;
FAIL:
    return NULL;
}

VOID SEVC_EQ_Feed(SEVC_EQ_S *pstEqEng, aisp_cpx_s32_t *pFreqFrameInOut)
{
    U16 usFftBin = pstEqEng->pstSevcCfg->usFftBin;
    sevcVecComplexMulReal(pFreqFrameInOut, pFreqFrameInOut, pstEqEng->pfEqGain, usFftBin, 20);
}

VOID SEVC_EQ_Reset(SEVC_EQ_S *pstEqEng)
{
}

VOID SEVC_EQ_Delete(SEVC_EQ_S *pstEqEng)
{
}


#endif

