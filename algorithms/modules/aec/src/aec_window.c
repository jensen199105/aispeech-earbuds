/************************************************************
  Copyright (C), AISpeechTech. Co., Ltd.

  FileName   : window.c
  Project    :
  Module     :
  Version    :
  Date       : 2017/02/15
  Author     : Youhai.Jiang
  Document   :
  Description:

  Function List :

  History :
  <author>      <time>            <version >        <desc>
  kun.xu          2017/08/13         1.00              Create

************************************************************/
#include "aec_window.h"

#include <stdio.h>
#include <stdlib.h>
#include <math.h>

#include "AISP_TSL_base.h"
#include "AISP_TSL_types.h"


/*modified by cfh*/


//#if AISP_HANWIN_SIZE == 256
aisp_s16_t hanning_sqrt_256[256] = {

#ifdef AISPEECH_FIXED
		 401 ,801, 1201 ,1602, 2001 ,2401, 2800 ,3199
		,3598 ,3996, 4393 ,4789, 5185 ,5580, 5975 ,6368
		,6760 ,7152, 7542 ,7931, 8319 ,8706, 9092 ,9476
		,9859 ,10240, 10619 ,10998, 11374 ,11749, 12122 ,12493
		,12862 ,13230, 13595 ,13959, 14320 ,14679, 15036 ,15391
		,15743 ,16094, 16441 ,16787, 17129 ,17469, 17807 ,18142
		,18474 ,18803, 19130 ,19454, 19775 ,20093, 20408 ,20719
		,21028 ,21334, 21636 ,21935, 22231 ,22524, 22813 ,23099
		,23381 ,23660, 23935 ,24207, 24475 ,24740, 25001 ,25258
		,25511 ,25760, 26006 ,26248, 26485 ,26719, 26949 ,27175
		,27397 ,27614, 27828 ,28037, 28243 ,28444, 28640 ,28833
		,29021 ,29205, 29384 ,29559, 29730 ,29896, 30058 ,30215
		,30368 ,30516, 30659 ,30799, 30933 ,31063, 31188 ,31308
		,31424 ,31535, 31642 ,31744, 31840 ,31933, 32020 ,32103
		,32181 ,32254, 32322 ,32385, 32444 ,32497, 32546 ,32590
		,32629 ,32664, 32693 ,32717, 32737 ,32752, 32761 ,32766
		,32766 ,32761, 32752 ,32737, 32717 ,32693, 32664 ,32629
		,32590 ,32546, 32497 ,32444, 32385 ,32322, 32254 ,32181
		,32103 ,32020, 31933 ,31840, 31744 ,31642, 31535 ,31424
		,31308 ,31188, 31063 ,30933, 30799 ,30659, 30516 ,30368
		,30215 ,30058, 29896 ,29730, 29559 ,29384, 29205 ,29021
		,28833 ,28640, 28444 ,28243, 28037 ,27828, 27614 ,27397
		,27175 ,26949, 26719 ,26485, 26248 ,26006, 25760 ,25511
		,25258 ,25001, 24740 ,24475, 24207 ,23935, 23660 ,23381
		,23099 ,22813, 22524 ,22231, 21935 ,21636, 21334 ,21028
		,20719 ,20408, 20093 ,19775, 19454 ,19130, 18803 ,18474
		,18142 ,17807, 17469 ,17129, 16787 ,16441, 16094 ,15743
		,15391 ,15036, 14679 ,14320, 13959 ,13595, 13230 ,12862
		,12493 ,12122, 11749 ,11374, 10998 ,10619, 10240 ,9859
		,9476 ,9092, 8706 ,8319, 7931 ,7542, 7152 ,6760
		,6368 ,5975, 5580 ,5185, 4789 ,4393, 3996 ,3598
		,3199 ,2800, 2401 ,2001, 1602 ,1201, 801 ,401
#else
	 0.012224 ,0.024446,0.036664 ,0.048877,0.061082 ,0.073279,0.085464 ,0.097637
	,0.109795 ,0.121937,0.134060 ,0.146164,0.158245 ,0.170303,0.182336 ,0.194341
	,0.206317 ,0.218263,0.230175 ,0.242054,0.253896 ,0.265700,0.277465 ,0.289188
	,0.300868 ,0.312503,0.324091 ,0.335631,0.347120 ,0.358558,0.369942 ,0.381271
	,0.392543 ,0.403757,0.414910 ,0.426000,0.437028 ,0.447990,0.458885 ,0.469711
	,0.480468 ,0.491152,0.501763 ,0.512300,0.522759 ,0.533141,0.543442 ,0.553663
	,0.563801 ,0.573855,0.583822 ,0.593703,0.603495 ,0.613197,0.622807 ,0.632324
	,0.641747 ,0.651073,0.660303 ,0.669433,0.678464 ,0.687393,0.696220 ,0.704943
	,0.713560 ,0.722070,0.730473 ,0.738767,0.746950 ,0.755021,0.762980 ,0.770825
	,0.778554 ,0.786168,0.793663 ,0.801040,0.808298 ,0.815435,0.822449 ,0.829341
	,0.836109 ,0.842752,0.849269 ,0.855660,0.861922 ,0.868056,0.874059 ,0.879933
	,0.885674 ,0.891284,0.896760 ,0.902102,0.907310 ,0.912382,0.917317 ,0.922116
	,0.926776 ,0.931298,0.935681 ,0.939925,0.944027 ,0.947989,0.951809 ,0.955487
	,0.959022 ,0.962414,0.965662 ,0.968765,0.971724 ,0.974538,0.977206 ,0.979728
	,0.982104 ,0.984332,0.986414 ,0.988349,0.990135 ,0.991774,0.993265 ,0.994607
	,0.995800 ,0.996845,0.997741 ,0.998487,0.999085 ,0.999533,0.999832 ,0.999981
	,0.999981 ,0.999832,0.999533 ,0.999085,0.998487 ,0.997741,0.996845 ,0.995800
	,0.994607 ,0.993265,0.991774 ,0.990135,0.988349 ,0.986414,0.984332 ,0.982104
	,0.979728 ,0.977206,0.974538 ,0.971724,0.968765 ,0.965662,0.962414 ,0.959022
	,0.955487 ,0.951809,0.947989 ,0.944027,0.939925 ,0.935681,0.931298 ,0.926776
	,0.922116 ,0.917317,0.912382 ,0.907310,0.902102 ,0.896760,0.891284 ,0.885674
	,0.879933 ,0.874059,0.868056 ,0.861922,0.855660 ,0.849269,0.842752 ,0.836109
	,0.829341 ,0.822449,0.815435 ,0.808298,0.801040 ,0.793663,0.786168 ,0.778554
	,0.770825 ,0.762980,0.755021 ,0.746950,0.738767 ,0.730473,0.722070 ,0.713560
	,0.704943 ,0.696220,0.687393 ,0.678464,0.669433 ,0.660303,0.651073 ,0.641747
	,0.632324 ,0.622807,0.613197 ,0.603495,0.593703 ,0.583822,0.573855 ,0.563801
	,0.553663 ,0.543442,0.533141 ,0.522759,0.512300 ,0.501763,0.491152 ,0.480468
	,0.469711 ,0.458885,0.447990 ,0.437028,0.426000 ,0.414910,0.403757 ,0.392543
	,0.381271 ,0.369942,0.358558 ,0.347120,0.335631 ,0.324091,0.312503 ,0.300868
	,0.289188 ,0.277465,0.265700 ,0.253896,0.242054 ,0.230175,0.218263 ,0.206317
	,0.194341 ,0.182336,0.170303 ,0.158245,0.146164 ,0.134060,0.121937 ,0.109795
	,0.097637 ,0.085464,0.073279 ,0.061082,0.048877 ,0.036664,0.024446 ,0.012224

#endif
};
//#endif


//#if AISP_HANWIN_SIZE == 512
 aisp_s16_t hanning_sqrt_512[512] = {
#ifdef AISPEECH_FIXED
     201,  401,  602,    803,  1003,  1204,  1404,  1605,
    1805, 2005,  2206,  2406,  2606,  2806,  3006,  3205,
    3405, 3605,  3804,  4003,  4202,  4401,  4600,  4799,
    4997, 5195,  5393,  5591,  5789,  5986,  6183,  6380,
    6577, 6773,  6970,  7166,  7361,  7557,  7752,  7947,
    8141, 8335,  8529,  8723,  8916,  9109,  9302,  9494,
    9686, 9877, 10068, 10259, 10449, 10639, 10829, 11018,
   11207, 11395, 11583, 11771, 11958, 12144, 12331, 12516,
   12701, 12886, 13070, 13254, 13437, 13620, 13802, 13984,
   14165, 14346, 14526, 14706, 14885, 15063, 15241, 15419,
   15595, 15772, 15947, 16122, 16297, 16470, 16643, 16816,
   16988, 17159, 17330, 17500, 17669, 17838, 18006, 18173,
   18340, 18506, 18671, 18835, 18999, 19162, 19325, 19487,
   19647, 19808, 19967, 20126, 20284, 20441, 20598, 20753,
   20908, 21062, 21216, 21368, 21520, 21671, 21821, 21970,
   22119, 22266, 22413, 22559, 22704, 22848, 22992, 23134,
   23276, 23417, 23557, 23696, 23834, 23971, 24107, 24243,
   24377, 24511, 24644, 24776, 24906, 25036, 25165, 25293,
   25420, 25547, 25672, 25796, 25919, 26042, 26163, 26283,
   26403, 26521, 26638, 26755, 26870, 26984, 27098, 27210,
   27321, 27431, 27541, 27649, 27756, 27862, 27967, 28071,
   28174, 28276, 28377, 28477, 28576, 28673, 28770, 28865,
   28960, 29053, 29145, 29236, 29327, 29416, 29503, 29590,
   29676, 29760, 29844, 29926, 30007, 30087, 30166, 30244,
   30321, 30396, 30470, 30544, 30616, 30687, 30756, 30825,
   30893, 30959, 31024, 31088, 31151, 31213, 31273, 31332,
   31390, 31447, 31503, 31558, 31611, 31663, 31714, 31764,
   31813, 31860, 31907, 31952, 31996, 32038, 32080, 32120,
   32159, 32197, 32234, 32269, 32303, 32336, 32368, 32399,
   32428, 32456, 32483, 32509, 32534, 32557, 32579, 32600,
   32619, 32638, 32655, 32671, 32686, 32699, 32712, 32723,
   32732, 32741, 32748, 32755, 32759, 32763, 32766, 32767,
   32767, 32766, 32763, 32759, 32755, 32748, 32741, 32732,
   32723, 32712, 32699, 32686, 32671, 32655, 32638, 32619,
   32600, 32579, 32557, 32534, 32509, 32483, 32456, 32428,
   32399, 32368, 32336, 32303, 32269, 32234, 32197, 32159,
   32120, 32080, 32038, 31996, 31952, 31907, 31860, 31813,
   31764, 31714, 31663, 31611, 31558, 31503, 31447, 31390,
   31332, 31273, 31213, 31151, 31088, 31024, 30959, 30893,
   30825, 30756, 30687, 30616, 30544, 30470, 30396, 30321,
   30244, 30166, 30087, 30007, 29926, 29844, 29760, 29676,
   29590, 29503, 29416, 29327, 29236, 29145, 29053, 28960,
   28865, 28770, 28673, 28576, 28477, 28377, 28276, 28174,
   28071, 27967, 27862, 27756, 27649, 27541, 27431, 27321,
   27210, 27098, 26984, 26870, 26755, 26638, 26521, 26403,
   26283, 26163, 26042, 25919, 25796, 25672, 25547, 25420,
   25293, 25165, 25036, 24906, 24776, 24644, 24511, 24377,
   24243, 24107, 23971, 23834, 23696, 23557, 23417, 23276,
   23134, 22992, 22848, 22704, 22559, 22413, 22266, 22119,
   21970, 21821, 21671, 21520, 21368, 21216, 21062, 20908,
   20753, 20598, 20441, 20284, 20126, 19967, 19808, 19647,
   19487, 19325, 19162, 18999, 18835, 18671, 18506, 18340,
   18173, 18006, 17838, 17669, 17500, 17330, 17159, 16988,
   16816, 16643, 16470, 16297, 16122, 15947, 15772, 15595,
   15419, 15241, 15063, 14885, 14706, 14526, 14346, 14165,
   13984, 13802, 13620, 13437, 13254, 13070, 12886, 12701,
   12516, 12331, 12144, 11958, 11771, 11583, 11395, 11207,
   11018, 10829, 10639, 10449, 10259, 10068,  9877,  9686,
    9494, 9302,  9109, 8916,  8723, 8529,  8335,  8141,
    7947, 7752,  7557, 7361,  7166, 6970,  6773,  6577,
    6380, 6183,  5986, 5789,  5591, 5393,  5195,  4997,
    4799, 4600,  4401, 4202,  4003, 3804,  3605,  3405,
    3205, 3006,  2806, 2606,  2406, 2206,  2005,  1805,
    1605, 1404,  1204, 1003,   803,  602,   401,   201
#else
    0.006123, 0.012247, 0.018371, 0.024493, 0.030615, 0.036736, 0.042855, 0.048972,
    0.055088, 0.061201, 0.067313, 0.073421, 0.079527, 0.085630, 0.091730, 0.097827,
    0.103919, 0.110008, 0.116093, 0.122173, 0.128249, 0.134320, 0.140386, 0.146447,
    0.152502, 0.158551, 0.164595, 0.170632, 0.176663, 0.182687, 0.188705, 0.194715,
    0.200718, 0.206714, 0.212701, 0.218681, 0.224653, 0.230616, 0.236570, 0.242516,
    0.248453, 0.254380, 0.260298, 0.266205, 0.272103, 0.277991, 0.283869, 0.289735,
    0.295591, 0.301436, 0.307269, 0.313091, 0.318901, 0.324699, 0.330485, 0.336259,
    0.342020, 0.347768, 0.353503, 0.359225, 0.364934, 0.370629, 0.376309, 0.381976,
    0.387629, 0.393266, 0.398889, 0.404498, 0.410091, 0.415668, 0.421230, 0.426776,
    0.432307, 0.437821, 0.443318, 0.448799, 0.454263, 0.459710, 0.465140, 0.470553,
    0.475947, 0.481324, 0.486683, 0.492024, 0.497346, 0.502649, 0.507934, 0.513200,
    0.518446, 0.523673, 0.528880, 0.534068, 0.539235, 0.544382, 0.549509, 0.554615,
    0.559701, 0.564765, 0.569808, 0.574830, 0.579830, 0.584809, 0.589765, 0.594700,
    0.599612, 0.604502, 0.609369, 0.614213, 0.619034, 0.623832, 0.628606, 0.633357,
    0.638084, 0.642788, 0.647467, 0.652122, 0.656752, 0.661358, 0.665939, 0.670495,
    0.675026, 0.679531, 0.684011, 0.688466, 0.692894, 0.697297, 0.701673, 0.706023,
    0.710347, 0.714644, 0.718914, 0.723158, 0.727374, 0.731562, 0.735724, 0.739858,
    0.743964, 0.748042, 0.752092, 0.756114, 0.760108, 0.764073, 0.768009, 0.771917,
    0.775795, 0.779645, 0.783465, 0.787256, 0.791018, 0.794749, 0.798451, 0.802123,
    0.805765, 0.809377, 0.812958, 0.816509, 0.820029, 0.823519, 0.826977, 0.830405,
    0.833801, 0.837166, 0.840500, 0.843802, 0.847073, 0.850312, 0.853519, 0.856694,
    0.859837, 0.862947, 0.866025, 0.869071, 0.872084, 0.875065, 0.878012, 0.880927,
    0.883809, 0.886657, 0.889472, 0.892254, 0.895003, 0.897717, 0.900399, 0.903046,
    0.905660, 0.908239, 0.910785, 0.913296, 0.915773, 0.918216, 0.920624, 0.922998,
    0.925337, 0.927642, 0.929912, 0.932147, 0.934346, 0.936511, 0.938641, 0.940735,
    0.942795, 0.944819, 0.946807, 0.948760, 0.950677, 0.952559, 0.954405, 0.956215,
    0.957989, 0.959728, 0.961430, 0.963097, 0.964727, 0.966321, 0.967879, 0.969400,
    0.970885, 0.972334, 0.973746, 0.975122, 0.976461, 0.977764, 0.979030, 0.980259,
    0.981452, 0.982607, 0.983726, 0.984808, 0.985853, 0.986861, 0.987832, 0.988766,
    0.989662, 0.990522, 0.991345, 0.992130, 0.992878, 0.993589, 0.994263, 0.994899,
    0.995498, 0.996060, 0.996584, 0.997072, 0.997521, 0.997933, 0.998308, 0.998646,
    0.998945, 0.999208, 0.999433, 0.999620, 0.999770, 0.999883, 0.999958, 0.999995,
    0.999995, 0.999958, 0.999883, 0.999770, 0.999620, 0.999433, 0.999208, 0.998945,
    0.998646, 0.998308, 0.997933, 0.997521, 0.997072, 0.996584, 0.996060, 0.995498,
    0.994899, 0.994263, 0.993589, 0.992878, 0.992130, 0.991345, 0.990522, 0.989662,
    0.988766, 0.987832, 0.986861, 0.985853, 0.984808, 0.983726, 0.982607, 0.981452,
    0.980259, 0.979030, 0.977764, 0.976461, 0.975122, 0.973746, 0.972334, 0.970885,
    0.969400, 0.967879, 0.966321, 0.964727, 0.963097, 0.961430, 0.959728, 0.957990,
    0.956215, 0.954405, 0.952559, 0.950677, 0.948760, 0.946807, 0.944819, 0.942795,
    0.940736, 0.938641, 0.936511, 0.934346, 0.932146, 0.929912, 0.927642, 0.925337,
    0.922998, 0.920624, 0.918216, 0.915773, 0.913296, 0.910785, 0.908239, 0.905660,
    0.903046, 0.900399, 0.897718, 0.895003, 0.892254, 0.889472, 0.886657, 0.883809,
    0.880927, 0.878012, 0.875065, 0.872084, 0.869071, 0.866025, 0.862947, 0.859837,
    0.856694, 0.853519, 0.850312, 0.847073, 0.843803, 0.840500, 0.837166, 0.833801,
    0.830405, 0.826977, 0.823519, 0.820029, 0.816509, 0.812958, 0.809377, 0.805765,
    0.802123, 0.798451, 0.794749, 0.791018, 0.787256, 0.783465, 0.779645, 0.775795,
    0.771917, 0.768009, 0.764073, 0.760108, 0.756114, 0.752092, 0.748042, 0.743964,
    0.739858, 0.735724, 0.731562, 0.727374, 0.723158, 0.718914, 0.714644, 0.710347,
    0.706023, 0.701673, 0.697297, 0.692894, 0.688466, 0.684011, 0.679531, 0.675026,
    0.670495, 0.665939, 0.661358, 0.656752, 0.652122, 0.647467, 0.642788, 0.638084,
    0.633357, 0.628606, 0.623832, 0.619034, 0.614213, 0.609369, 0.604502, 0.599612,
    0.594700, 0.589765, 0.584809, 0.579830, 0.574830, 0.569808, 0.564765, 0.559700,
    0.554615, 0.549509, 0.544382, 0.539235, 0.534068, 0.528880, 0.523673, 0.518446,
    0.513200, 0.507934, 0.502649, 0.497346, 0.492024, 0.486683, 0.481324, 0.475947,
    0.470553, 0.465140, 0.459710, 0.454263, 0.448799, 0.443318, 0.437821, 0.432307,
    0.426776, 0.421230, 0.415668, 0.410091, 0.404498, 0.398889, 0.393266, 0.387629,
    0.381976, 0.376309, 0.370628, 0.364934, 0.359225, 0.353503, 0.347768, 0.342020,
    0.336259, 0.330485, 0.324699, 0.318901, 0.313091, 0.307269, 0.301436, 0.295591,
    0.289735, 0.283869, 0.277991, 0.272104, 0.266206, 0.260298, 0.254380, 0.248453,
    0.242516, 0.236570, 0.230616, 0.224653, 0.218681, 0.212701, 0.206713, 0.200718,
    0.194715, 0.188705, 0.182687, 0.176663, 0.170632, 0.164595, 0.158551, 0.152502,
    0.146447, 0.140386, 0.134320, 0.128249, 0.122173, 0.116093, 0.110008, 0.103919,
    0.097827, 0.091730, 0.085631, 0.079527, 0.073421, 0.067313, 0.061201, 0.055088,
    0.048972, 0.042855, 0.036736, 0.030615, 0.024493, 0.018371, 0.012247, 0.006123
#endif
};
//#endif

//#if AISP_HANWIN_SIZE == 1024
 aisp_s16_t hanning_sqrt_1024[1024] = {
#ifdef AISPEECH_FIXED
  100,  201,  301,  402,  502,  603,  703,  803,  904, 1004, 1105, 1205, 1305, 1406, 1506, 1606,
 1707, 1807, 1907, 2007, 2108, 2208, 2308, 2408, 2508, 2608, 2709, 2809, 2909, 3009, 3109, 3209,
 3309, 3408, 3508, 3608, 3708, 3808, 3907, 4007, 4107, 4206, 4306, 4406, 4505, 4604, 4704, 4803,
 4903, 5002, 5101, 5200, 5299, 5398, 5498, 5596, 5695, 5794, 5893, 5992, 6091, 6189, 6288, 6386,
 6485, 6583, 6682, 6780, 6878, 6976, 7074, 7172, 7270, 7368, 7466, 7564, 7662, 7759, 7857, 7954,
 8052, 8149, 8246, 8343, 8440, 8537, 8634, 8731, 8828, 8924, 9021, 9118, 9214, 9310, 9407, 9503,
 9599, 9695, 9791, 9886, 9982,10078,10173,10269,10364,10459,10554,10649,10744,10839,10934,11029,
11123,11217,11312,11406,11500,11594,11688,11782,11875,11969,12062,12156,12249,12342,12435,12528,
12621,12713,12806,12898,12990,13082,13174,13266,13358,13450,13541,13633,13724,13815,13906,13997,
14088,14178,14269,14359,14449,14539,14629,14719,14809,14898,14988,15077,15166,15255,15344,15432,
15521,15609,15698,15786,15874,15961,16049,16136,16224,16311,16398,16485,16572,16658,16745,16831,
16917,17003,17089,17174,17260,17345,17430,17515,17600,17684,17769,17853,17937,18021,18105,18189,
18272,18355,18439,18521,18604,18687,18769,18851,18934,19015,19097,19179,19260,19341,19422,19503,
19584,19664,19744,19824,19904,19984,20063,20143,20222,20301,20379,20458,20536,20614,20692,20770,
20848,20925,21002,21079,21156,21233,21309,21385,21461,21537,21613,21688,21763,21838,21913,21988,
22062,22136,22210,22284,22357,22431,22504,22577,22649,22722,22794,22866,22938,23009,23081,23152,
23223,23294,23364,23435,23505,23574,23644,23714,23783,23852,23920,23989,24057,24125,24193,24261,
24328,24395,24462,24529,24595,24662,24728,24794,24859,24924,24989,25054,25119,25183,25247,25311,
25375,25438,25502,25565,25627,25690,25752,25814,25876,25937,25998,26059,26120,26181,26241,26301,
26361,26420,26480,26539,26597,26656,26714,26772,26830,26887,26945,27002,27059,27115,27171,27227,
27283,27339,27394,27449,27503,27558,27612,27666,27720,27773,27826,27879,27932,27984,28036,28088,
28140,28191,28242,28293,28344,28394,28444,28493,28543,28592,28641,28690,28738,28786,28834,28882,
28929,28976,29023,29069,29115,29161,29207,29252,29298,29342,29387,29431,29475,29519,29562,29606,
29648,29691,29733,29775,29817,29859,29900,29941,29982,30022,30062,30102,30141,30181,30220,30258,
30297,30335,30373,30410,30447,30484,30521,30558,30594,30629,30665,30700,30735,30770,30804,30838,
30872,30906,30939,30972,31004,31037,31069,31101,31132,31163,31194,31225,31255,31285,31315,31344,
31373,31402,31431,31459,31487,31515,31542,31569,31596,31622,31648,31674,31700,31725,31750,31775,
31799,31823,31847,31870,31894,31916,31939,31961,31983,32005,32026,32047,32068,32089,32109,32129,
32148,32168,32187,32205,32224,32242,32259,32277,32294,32311,32327,32344,32360,32375,32391,32406,
32420,32435,32449,32463,32476,32489,32502,32515,32527,32539,32551,32562,32573,32584,32594,32605,
32614,32624,32633,32642,32651,32659,32667,32675,32682,32689,32696,32702,32708,32714,32720,32725,
32730,32735,32739,32743,32747,32750,32753,32756,32758,32760,32762,32764,32765,32766,32767,32767,
32767,32767,32766,32765,32764,32762,32760,32758,32756,32753,32750,32747,32743,32739,32735,32730,
32725,32720,32714,32708,32702,32696,32689,32682,32675,32667,32659,32651,32642,32633,32624,32614,
32605,32594,32584,32573,32562,32551,32539,32527,32515,32502,32489,32476,32463,32449,32435,32420,
32406,32391,32375,32360,32344,32327,32311,32294,32277,32259,32242,32224,32205,32187,32168,32148,
32129,32109,32089,32068,32047,32026,32005,31983,31961,31939,31916,31894,31870,31847,31823,31799,
31775,31750,31725,31700,31674,31648,31622,31596,31569,31542,31515,31487,31459,31431,31402,31373,
31344,31315,31285,31255,31225,31194,31163,31132,31101,31069,31037,31004,30972,30939,30906,30872,
30838,30804,30770,30735,30700,30665,30629,30594,30558,30521,30484,30447,30410,30373,30335,30297,
30258,30220,30181,30141,30102,30062,30022,29982,29941,29900,29859,29817,29775,29733,29691,29648,
29606,29562,29519,29475,29431,29387,29342,29298,29252,29207,29161,29115,29069,29023,28976,28929,
28882,28834,28786,28738,28690,28641,28592,28543,28493,28444,28394,28344,28293,28242,28191,28140,
28088,28036,27984,27932,27879,27826,27773,27720,27666,27612,27558,27503,27449,27394,27339,27283,
27227,27171,27115,27059,27002,26945,26887,26830,26772,26714,26656,26597,26539,26480,26420,26361,
26301,26241,26181,26120,26059,25998,25937,25876,25814,25752,25690,25627,25565,25502,25438,25375,
25311,25247,25183,25119,25054,24989,24924,24859,24794,24728,24662,24595,24529,24462,24395,24328,
24261,24193,24125,24057,23989,23920,23852,23783,23714,23644,23574,23505,23435,23364,23294,23223,
23152,23081,23009,22938,22866,22794,22722,22649,22577,22504,22431,22357,22284,22210,22136,22062,
21988,21913,21838,21763,21688,21613,21537,21461,21385,21309,21233,21156,21079,21002,20925,20848,
20770,20692,20614,20536,20458,20379,20301,20222,20143,20063,19984,19904,19824,19744,19664,19584,
19503,19422,19341,19260,19179,19097,19015,18934,18851,18769,18687,18604,18521,18439,18355,18272,
18189,18105,18021,17937,17853,17769,17684,17600,17515,17430,17345,17260,17174,17089,17003,16917,
16831,16745,16658,16572,16485,16398,16311,16224,16136,16049,15961,15874,15786,15698,15609,15521,
15432,15344,15255,15166,15077,14988,14898,14809,14719,14629,14539,14449,14359,14269,14178,14088,
13997,13906,13815,13724,13633,13541,13450,13358,13266,13174,13082,12990,12898,12806,12713,12621,
12528,12435,12342,12249,12156,12062,11969,11875,11782,11688,11594,11500,11406,11312,11217,11123,
11029,10934,10839,10744,10649,10554,10459,10364,10269,10173,10078, 9982, 9886, 9791, 9695, 9599,
 9503, 9407, 9310, 9214, 9118, 9021, 8924, 8828, 8731, 8634, 8537, 8440, 8343, 8246, 8149, 8052,
 7954, 7857, 7759, 7662, 7564, 7466, 7368, 7270, 7172, 7074, 6976, 6878, 6780, 6682, 6583, 6485,
 6386, 6288, 6189, 6091, 5992, 5893, 5794, 5695, 5596, 5498, 5398, 5299, 5200, 5101, 5002, 4903,
 4803, 4704, 4604, 4505, 4406, 4306, 4206, 4107, 4007, 3907, 3808, 3708, 3608, 3508, 3408, 3309,
 3209, 3109, 3009, 2909, 2809, 2709, 2608, 2508, 2408, 2308, 2208, 2108, 2007, 1907, 1807, 1707,
 1606, 1506, 1406, 1305, 1205, 1105, 1004,  904,  803,  703,  603,  502,  402,  301,  201, 100
#else
0.0031,0.0061,0.0092,0.0123,0.0153,0.0184,0.0215,0.0245,0.0276,0.0306,0.0337,0.0368,0.0398,0.0429,0.0460,0.0490,
0.0521,0.0551,0.0582,0.0613,0.0643,0.0674,0.0704,0.0735,0.0765,0.0796,0.0827,0.0857,0.0888,0.0918,0.0949,0.0979,
0.1010,0.1040,0.1071,0.1101,0.1132,0.1162,0.1192,0.1223,0.1253,0.1284,0.1314,0.1345,0.1375,0.1405,0.1436,0.1466,
0.1496,0.1526,0.1557,0.1587,0.1617,0.1648,0.1678,0.1708,0.1738,0.1768,0.1798,0.1829,0.1859,0.1889,0.1919,0.1949,
0.1979,0.2009,0.2039,0.2069,0.2099,0.2129,0.2159,0.2189,0.2219,0.2249,0.2279,0.2308,0.2338,0.2368,0.2398,0.2427,
0.2457,0.2487,0.2517,0.2546,0.2576,0.2605,0.2635,0.2665,0.2694,0.2724,0.2753,0.2783,0.2812,0.2841,0.2871,0.2900,
0.2929,0.2959,0.2988,0.3017,0.3046,0.3076,0.3105,0.3134,0.3163,0.3192,0.3221,0.3250,0.3279,0.3308,0.3337,0.3366,
0.3395,0.3423,0.3452,0.3481,0.3510,0.3538,0.3567,0.3596,0.3624,0.3653,0.3681,0.3710,0.3738,0.3767,0.3795,0.3823,
0.3852,0.3880,0.3908,0.3936,0.3964,0.3993,0.4021,0.4049,0.4077,0.4105,0.4133,0.4160,0.4188,0.4216,0.4244,0.4272,
0.4299,0.4327,0.4355,0.4382,0.4410,0.4437,0.4465,0.4492,0.4519,0.4547,0.4574,0.4601,0.4628,0.4656,0.4683,0.4710,
0.4737,0.4764,0.4791,0.4818,0.4844,0.4871,0.4898,0.4925,0.4951,0.4978,0.5004,0.5031,0.5057,0.5084,0.5110,0.5137,
0.5163,0.5189,0.5215,0.5241,0.5267,0.5293,0.5319,0.5345,0.5371,0.5397,0.5423,0.5449,0.5474,0.5500,0.5525,0.5551,
0.5576,0.5602,0.5627,0.5652,0.5678,0.5703,0.5728,0.5753,0.5778,0.5803,0.5828,0.5853,0.5878,0.5903,0.5927,0.5952,
0.5977,0.6001,0.6026,0.6050,0.6074,0.6099,0.6123,0.6147,0.6171,0.6195,0.6219,0.6243,0.6267,0.6291,0.6315,0.6339,
0.6362,0.6386,0.6410,0.6433,0.6457,0.6480,0.6503,0.6526,0.6550,0.6573,0.6596,0.6619,0.6642,0.6665,0.6688,0.6710,
0.6733,0.6756,0.6778,0.6801,0.6823,0.6845,0.6868,0.6890,0.6912,0.6934,0.6956,0.6978,0.7000,0.7022,0.7044,0.7066,
0.7087,0.7109,0.7130,0.7152,0.7173,0.7195,0.7216,0.7237,0.7258,0.7279,0.7300,0.7321,0.7342,0.7363,0.7383,0.7404,
0.7425,0.7445,0.7466,0.7486,0.7506,0.7526,0.7547,0.7567,0.7587,0.7607,0.7626,0.7646,0.7666,0.7686,0.7705,0.7725,
0.7744,0.7763,0.7783,0.7802,0.7821,0.7840,0.7859,0.7878,0.7897,0.7916,0.7934,0.7953,0.7971,0.7990,0.8008,0.8027,
0.8045,0.8063,0.8081,0.8099,0.8117,0.8135,0.8153,0.8170,0.8188,0.8206,0.8223,0.8241,0.8258,0.8275,0.8292,0.8309,
0.8326,0.8343,0.8360,0.8377,0.8394,0.8410,0.8427,0.8443,0.8460,0.8476,0.8492,0.8508,0.8524,0.8540,0.8556,0.8572,
0.8588,0.8604,0.8619,0.8635,0.8650,0.8665,0.8681,0.8696,0.8711,0.8726,0.8741,0.8756,0.8770,0.8785,0.8800,0.8814,
0.8829,0.8843,0.8857,0.8871,0.8886,0.8900,0.8914,0.8927,0.8941,0.8955,0.8968,0.8982,0.8995,0.9009,0.9022,0.9035,
0.9048,0.9061,0.9074,0.9087,0.9100,0.9112,0.9125,0.9138,0.9150,0.9162,0.9175,0.9187,0.9199,0.9211,0.9223,0.9234,
0.9246,0.9258,0.9269,0.9281,0.9292,0.9303,0.9315,0.9326,0.9337,0.9348,0.9358,0.9369,0.9380,0.9391,0.9401,0.9411,
0.9422,0.9432,0.9442,0.9452,0.9462,0.9472,0.9482,0.9491,0.9501,0.9511,0.9520,0.9529,0.9539,0.9548,0.9557,0.9566,
0.9575,0.9583,0.9592,0.9601,0.9609,0.9618,0.9626,0.9634,0.9643,0.9651,0.9659,0.9666,0.9674,0.9682,0.9690,0.9697,
0.9705,0.9712,0.9719,0.9726,0.9733,0.9740,0.9747,0.9754,0.9761,0.9767,0.9774,0.9780,0.9787,0.9793,0.9799,0.9805,
0.9811,0.9817,0.9823,0.9829,0.9834,0.9840,0.9845,0.9850,0.9856,0.9861,0.9866,0.9871,0.9876,0.9880,0.9885,0.9890,
0.9894,0.9899,0.9903,0.9907,0.9911,0.9915,0.9919,0.9923,0.9927,0.9930,0.9934,0.9937,0.9941,0.9944,0.9947,0.9950,
0.9953,0.9956,0.9959,0.9962,0.9964,0.9967,0.9969,0.9972,0.9974,0.9976,0.9978,0.9980,0.9982,0.9984,0.9986,0.9987,
0.9989,0.9990,0.9991,0.9993,0.9994,0.9995,0.9996,0.9997,0.9997,0.9998,0.9999,0.9999,0.9999,1.0000,1.0000,1.0000,
1.0000,1.0000,1.0000,0.9999,0.9999,0.9999,0.9998,0.9997,0.9997,0.9996,0.9995,0.9994,0.9993,0.9991,0.9990,0.9989,
0.9987,0.9986,0.9984,0.9982,0.9980,0.9978,0.9976,0.9974,0.9972,0.9969,0.9967,0.9964,0.9962,0.9959,0.9956,0.9953,
0.9950,0.9947,0.9944,0.9941,0.9937,0.9934,0.9930,0.9927,0.9923,0.9919,0.9915,0.9911,0.9907,0.9903,0.9899,0.9894,
0.9890,0.9885,0.9880,0.9876,0.9871,0.9866,0.9861,0.9856,0.9850,0.9845,0.9840,0.9834,0.9829,0.9823,0.9817,0.9811,
0.9805,0.9799,0.9793,0.9787,0.9780,0.9774,0.9767,0.9761,0.9754,0.9747,0.9740,0.9733,0.9726,0.9719,0.9712,0.9705,
0.9697,0.9690,0.9682,0.9674,0.9666,0.9659,0.9651,0.9643,0.9634,0.9626,0.9618,0.9609,0.9601,0.9592,0.9583,0.9575,
0.9566,0.9557,0.9548,0.9539,0.9529,0.9520,0.9511,0.9501,0.9491,0.9482,0.9472,0.9462,0.9452,0.9442,0.9432,0.9422,
0.9411,0.9401,0.9391,0.9380,0.9369,0.9358,0.9348,0.9337,0.9326,0.9315,0.9303,0.9292,0.9281,0.9269,0.9258,0.9246,
0.9234,0.9223,0.9211,0.9199,0.9187,0.9175,0.9162,0.9150,0.9138,0.9125,0.9112,0.9100,0.9087,0.9074,0.9061,0.9048,
0.9035,0.9022,0.9009,0.8995,0.8982,0.8968,0.8955,0.8941,0.8927,0.8914,0.8900,0.8886,0.8871,0.8857,0.8843,0.8829,
0.8814,0.8800,0.8785,0.8770,0.8756,0.8741,0.8726,0.8711,0.8696,0.8681,0.8665,0.8650,0.8635,0.8619,0.8604,0.8588,
0.8572,0.8556,0.8540,0.8524,0.8508,0.8492,0.8476,0.8460,0.8443,0.8427,0.8410,0.8394,0.8377,0.8360,0.8343,0.8326,
0.8309,0.8292,0.8275,0.8258,0.8241,0.8223,0.8206,0.8188,0.8170,0.8153,0.8135,0.8117,0.8099,0.8081,0.8063,0.8045,
0.8027,0.8008,0.7990,0.7971,0.7953,0.7934,0.7916,0.7897,0.7878,0.7859,0.7840,0.7821,0.7802,0.7783,0.7763,0.7744,
0.7725,0.7705,0.7686,0.7666,0.7646,0.7626,0.7607,0.7587,0.7567,0.7547,0.7526,0.7506,0.7486,0.7466,0.7445,0.7425,
0.7404,0.7383,0.7363,0.7342,0.7321,0.7300,0.7279,0.7258,0.7237,0.7216,0.7195,0.7173,0.7152,0.7130,0.7109,0.7087,
0.7066,0.7044,0.7022,0.7000,0.6978,0.6956,0.6934,0.6912,0.6890,0.6868,0.6845,0.6823,0.6801,0.6778,0.6756,0.6733,
0.6710,0.6688,0.6665,0.6642,0.6619,0.6596,0.6573,0.6550,0.6526,0.6503,0.6480,0.6457,0.6433,0.6410,0.6386,0.6362,
0.6339,0.6315,0.6291,0.6267,0.6243,0.6219,0.6195,0.6171,0.6147,0.6123,0.6099,0.6074,0.6050,0.6026,0.6001,0.5977,
0.5952,0.5927,0.5903,0.5878,0.5853,0.5828,0.5803,0.5778,0.5753,0.5728,0.5703,0.5678,0.5652,0.5627,0.5602,0.5576,
0.5551,0.5525,0.5500,0.5474,0.5449,0.5423,0.5397,0.5371,0.5345,0.5319,0.5293,0.5267,0.5241,0.5215,0.5189,0.5163,
0.5137,0.5110,0.5084,0.5057,0.5031,0.5004,0.4978,0.4951,0.4925,0.4898,0.4871,0.4844,0.4818,0.4791,0.4764,0.4737,
0.4710,0.4683,0.4656,0.4628,0.4601,0.4574,0.4547,0.4519,0.4492,0.4465,0.4437,0.4410,0.4382,0.4355,0.4327,0.4299,
0.4272,0.4244,0.4216,0.4188,0.4160,0.4133,0.4105,0.4077,0.4049,0.4021,0.3993,0.3964,0.3936,0.3908,0.3880,0.3852,
0.3823,0.3795,0.3767,0.3738,0.3710,0.3681,0.3653,0.3624,0.3596,0.3567,0.3538,0.3510,0.3481,0.3452,0.3423,0.3395,
0.3366,0.3337,0.3308,0.3279,0.3250,0.3221,0.3192,0.3163,0.3134,0.3105,0.3076,0.3046,0.3017,0.2988,0.2959,0.2929,
0.2900,0.2871,0.2841,0.2812,0.2783,0.2753,0.2724,0.2694,0.2665,0.2635,0.2605,0.2576,0.2546,0.2517,0.2487,0.2457,
0.2427,0.2398,0.2368,0.2338,0.2308,0.2279,0.2249,0.2219,0.2189,0.2159,0.2129,0.2099,0.2069,0.2039,0.2009,0.1979,
0.1949,0.1919,0.1889,0.1859,0.1829,0.1798,0.1768,0.1738,0.1708,0.1678,0.1648,0.1617,0.1587,0.1557,0.1526,0.1496,
0.1466,0.1436,0.1405,0.1375,0.1345,0.1314,0.1284,0.1253,0.1223,0.1192,0.1162,0.1132,0.1101,0.1071,0.1040,0.1010,
0.0979,0.0949,0.0918,0.0888,0.0857,0.0827,0.0796,0.0765,0.0735,0.0704,0.0674,0.0643,0.0613,0.0582,0.0551,0.0521,
0.0490,0.0460,0.0429,0.0398,0.0368,0.0337,0.0306,0.0276,0.0245,0.0215,0.0184,0.0153,0.0123,0.0092,0.0061,0.0031
#endif
};
//#endif


#ifndef MTK8517_CORE

/************************************************************
  Function   : aispeech_hanningWindowWithSqrt()

  Description:
  Calls      :
  Called By  :
  Input      :
  Output     :
  Return     :
  Others     :

  History    :
    2017/08/13, kun.xu create

************************************************************/
aisp_s16_t * AISP_TSL_hanningWindowWithSqrt(U32 N)
{
#ifdef AISPEECH_FIXED
	switch(N)
	{
	case 256:
		return hanning_sqrt_256;
		break;
	case 512:
		return hanning_sqrt_512;
		break;
	case 1024:
		return hanning_sqrt_1024;
		break;
	default:
		return hanning_sqrt_256;
		break;
	}
#else
    unsigned int n;
    S32 *pdBuf = NULL;
    pdBuf = (S32 *)calloc(N, FLOAT_SZ);
    if(NULL == pdBuf)
    {
        return NULL;
    }
    AISP_TSL_hanningWindow(N, pdBuf);
    for(n = 0; n < N; n++)
    {
        *(pdBuf + n) = sqrt(*(pdBuf + n));
    }
    return pdBuf;

#endif
}




#endif

